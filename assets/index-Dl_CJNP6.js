import{y as S,E as C,_ as T,r as s,a as o,b as r,c as b,w as a,i as e,t as w,k as c,h as A,q as U,F as L,H as $,M as j,N as z}from"./index-CVI66faI.js";async function G(g){try{const n=await S({},"/fields/listAll",g);return n.status!==200&&C.error(n.msg||n.Msg),n.data}catch(n){C.error(n.message)}}const J={__name:"index",setup(g){const n=s([]),y=s({param:""}),k=s(),p=s([]),m=s([]),_=s(!1),f=s(!1);async function B(){const u=await G();m.value=u}B();const v=s(!1);function E(u){p.value=u?m.value.map(l=>l):[],_.value=!1}function M(u){const l=u.length;l>0&&(_.value=!0),l===m.value.length&&(f.value=!0,_.value=!1)}return(u,l)=>{const x=o("el-option"),N=o("el-select"),i=o("el-button"),F=o("el-input"),I=o("el-card"),d=o("el-table-column"),q=o("el-table"),V=o("el-checkbox"),D=o("el-checkbox-group"),H=o("el-dialog"),O=o("el-main");return r(),b(O,{id:"fileSearch"},{default:a(()=>[e(I,{style:{width:"100%"},class:"mb-2"},{default:a(()=>[e(F,{modelValue:y.value.param,"onUpdate:modelValue":l[1]||(l[1]=t=>y.value.param=t),style:{"max-width":"600px"},placeholder:"请输入查询内容",class:"mr-2"},{prepend:a(()=>[e(N,{modelValue:k.value,"onUpdate:modelValue":l[0]||(l[0]=t=>k.value=t),placeholder:"查询方式",style:{width:"115px"}},{default:a(()=>[e(x,{label:"全文",value:"0"}),e(x,{label:"库查询",value:"1"})]),_:1},8,["modelValue"])]),append:a(()=>[e(i,{icon:w($)},null,8,["icon"])]),_:1},8,["modelValue"]),e(i,{type:"primary",icon:w(j)},{default:a(()=>[c(" 智能识图 ")]),_:1},8,["icon"]),e(i,{type:"primary",icon:w(z),onClick:l[2]||(l[2]=t=>v.value=!0)},{default:a(()=>[c(" 显示设置 ")]),_:1},8,["icon"])]),_:1}),e(q,{data:n.value,border:"",style:{width:"100%"},height:"480"},{default:a(()=>[e(d,{type:"index",label:"序号","min-width":"80","show-overflow-tooltip":""}),e(d,{type:"index",label:"档号","min-width":"120","show-overflow-tooltip":""}),e(d,{type:"index",label:"题名","min-width":"120","show-overflow-tooltip":""}),(r(!0),A(L,null,U(p.value,(t,h)=>(r(),b(d,{key:h,prop:t.field,label:t.field_name,"min-width":"120","show-overflow-tooltip":""},null,8,["prop","label"]))),128)),e(d,{fixed:"right",label:"操作","min-width":"120"},{default:a(()=>[e(i,{link:"",type:"primary"},{default:a(()=>[c(" 卷内 ")]),_:1}),e(i,{link:"",type:"primary"},{default:a(()=>[c(" 附件 ")]),_:1})]),_:1})]),_:1},8,["data"]),e(H,{modelValue:v.value,"onUpdate:modelValue":l[5]||(l[5]=t=>v.value=t),title:"显示设置",width:"500"},{default:a(()=>[e(V,{modelValue:f.value,"onUpdate:modelValue":l[3]||(l[3]=t=>f.value=t),indeterminate:_.value,onChange:E},{default:a(()=>[c(" 全选 ")]),_:1},8,["modelValue","indeterminate"]),e(D,{modelValue:p.value,"onUpdate:modelValue":l[4]||(l[4]=t=>p.value=t),onChange:M},{default:a(()=>[(r(!0),A(L,null,U(m.value,(t,h)=>(r(),b(V,{key:h,label:t.field_name,value:t},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),_:1})}}},P=T(J,[["__scopeId","data-v-d2ad28b7"]]);export{P as default};
