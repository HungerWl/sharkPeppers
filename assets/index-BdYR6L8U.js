import{l as C}from"./lottie-Og_6Cm1x.js";import{m as B,E as v,_ as N,r as d,o as j,a as r,b as i,c as E,w as s,i as l,d as t,h as p,q as b,F as g,t as L,k as P,S as V,v as x,x as q,p as D,l as F}from"./index-C7Qv2pB2.js";async function M(n){try{const e=await B({},"sign/getPreviews",n);return e.status!==200&&v.error(e.message),e.data}catch(e){v.error(e.message)}}const A=n=>(D("data-v-2256b18d"),n=n(),F(),n),T={class:"tabs"},H={class:"text-[1.125rem] mr-1"},J={class:"content-btn p-2"},O={class:"left flex-[1]"},R=["src"],U=A(()=>t("div",{class:"right flex-[1]"},null,-1)),X={__name:"index",setup(n){const e=d([{label:"全文",icon:"icon-quanwen",count:0},{label:"图片",icon:"icon-image",count:0},{label:"视频",icon:"icon-video",count:0},{label:"其它",icon:"icon-qt",count:0}]),m=d([]);d(!1);async function w(){const a=new FormData;a.append("tableName","usc_cjxtdj"),a.append("pageNo",1),a.append("limit",4),a.append("MTLX",4);const _=await M(a);m.value=_.images;const u=_.typeCountByAJH;e.value.forEach(c=>{u.hasOwnProperty(c.label)&&(c.count=u[c.label])})}async function y(a){}const f=d(null);return j(()=>{C.loadAnimation({container:f.value,renderer:"svg",loop:!0,autoplay:!0,path:new URL("/sharkPeppers/assets/loadingView-D2xa4-7n.json",import.meta.url).href}),w()}),(a,_)=>{const u=r("el-button"),c=r("el-scrollbar"),S=r("el-aside"),k=r("el-main"),h=r("el-container");return i(),E(h,{id:"attache-content",class:"p-3"},{default:s(()=>[l(S,{width:"500px",class:"content-left p-2 mr-2"},{default:s(()=>[t("div",T,[(i(!0),p(g,null,b(e.value,(o,I)=>(i(),p("div",{key:I,class:"flex items-center cursor-pointer hover:fill-blue-700 hover:text-blue-700"},[l(V,{name:o.icon,class:"w-6 h-6 mr-1"},null,8,["name"]),t("span",H,x(o.label),1),t("span",null,x(o.count),1)]))),128))]),t("div",J,[l(u,{icon:L(q),type:"primary"},{default:s(()=>[P(" 上传文件 ")]),_:1},8,["icon"])]),l(c,{class:"content-list",height:"100%",onScroll:y},{default:s(()=>[(i(!0),p(g,null,b(m.value,o=>(i(),p("div",{key:o.id,class:"content-item flex item-center mb-2"},[t("div",O,[t("img",{src:o.base64Src,alt:"Item Image",class:"w-full h-auto object-cover rounded-lg"},null,8,R)]),U]))),128))]),_:1})]),_:1}),l(h,{class:"content-right"},{default:s(()=>[l(k,null,{default:s(()=>[t("div",{ref_key:"lottieContainer",ref:f,class:"w-full h-full"},null,512)]),_:1})]),_:1})]),_:1})}}},K=N(X,[["__scopeId","data-v-2256b18d"]]);export{K as default};
