import{y as S,E as _,m as H,_ as O,u as U,e as F,r as f,f as R,o as j,O as E,a as p,b as l,c as A,w as a,i as o,d as e,v as n,t as V,h as d,q as g,F as y,k as q,p as z,l as P}from"./index-0MJCgTmw.js";import{a as X,g as Z}from"./echart-BOOHX2zh.js";async function $(r){try{const t=await S({},"/fhsms/getNoticeList",r);return t.status!==200&&_.error(t.message),t.data}catch(t){_.error(t.message)}}async function G(r){try{const t=await S({},"/share/getShareList",r);return t.status!==200&&_.error(t.message),t.data}catch(t){_.error(t.message)}}async function J(r){try{const t=await H({},"/statisticsTemplate/executeStatistics",r);return t.status!==200&&_.error(t.message),t.data}catch(t){_.error(t.message)}}const x=r=>(z("data-v-32df7a69"),r=r(),P(),r),K={class:"flex items-center"},Q={class:"flex flex-col text-[1rem] ml-4"},W={class:"mb-1"},tt=x(()=>e("strong",{class:"tracking-widest"},"通知公告",-1)),et={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},st=["title"],at={class:"flex flex-col text-sm"},ot={class:"truncate"},rt=x(()=>e("strong",{class:"tracking-widest text-lg font-semibold"},"文件共享中心",-1)),nt={class:"divide-y divide-gray-200"},ct={class:"text-blue-600 font-medium"},lt={class:"text-gray-500 text-sm"},it=x(()=>e("strong",null,"快捷导航",-1)),dt={class:"flex items-center flex-wrap"},ut={class:"text-[#fff]"},pt=x(()=>e("strong",null,"统计中心",-1)),_t={__name:"index",setup(r){const t=U(),I=F(),D=f([{title:"借阅待办",count:0,type:"primary"},{title:"归档待办",count:0,type:"success"},{title:"鉴定待办",count:0,type:"warning"}]),w=f([]),b=f([]),k=f({});function L(){return{p1:async()=>{const c=await $();w.value=c.varList.slice(0,12)},p2:async()=>{const c=await G();b.value=c.varList.slice(0,6)},p3:async()=>{const c=new FormData;c.append("id","3e0ae2aa-f400-4b2a-bfe2-ac07fe139d15");const i=await J(c),v=Z(i.res1.info,i.res1.data);k.value=v}}}const m=R({circleUrl:"https://unpkg.com/@vbenjs/static-source@0.1.5/source/avatar-v1.webp",formattedTime:""}),C=f([{title:"收集库",path:"/archive"},{title:"整理库",path:"/archive"},{title:"服务利用",path:"/archive"},{title:"库房管理",path:"/archive"},{title:"库房管理",path:"/archive"},{title:"库房管理",path:"/archive"},{title:"库房管理",path:"/archive"},{title:"库房管理",path:"/archive"},{title:"库房管理",path:"/archive"}]);function N(u){t.push(u.path)}return j(()=>{const u=L();u.p1(),u.p2(),u.p3(),m.formattedTime=E().format("YYYY-MM-DD HH:mm:ss"),setInterval(()=>{m.formattedTime=E().format("YYYY-MM-DD HH:mm:ss")},1e3)}),(u,M)=>{const T=p("el-avatar"),c=p("el-tag"),i=p("el-card"),v=p("el-col"),Y=p("el-row"),B=p("el-main");return l(),A(B,null,{default:a(()=>[o(i,{shadow:"hover","body-class":"card-body"},{default:a(()=>{var s;return[e("div",K,[o(T,{size:50,src:m.circleUrl},null,8,["src"]),e("div",Q,[e("strong",W,"你好,"+n((s=V(I).userInfo)==null?void 0:s.BZ)+" 开始您一天的工作吧！",1),e("span",null,n(m.formattedTime),1)])]),e("div",null,[(l(!0),d(y,null,g(D.value,h=>(l(),d("span",{key:h.title},[o(c,{class:"mr-2",type:h.type,effect:"dark"},{default:a(()=>[q(n(h.title)+":"+n(h.count),1)]),_:2},1032,["type"])]))),128))])]}),_:1}),o(Y,{gutter:20},{default:a(()=>[o(v,{span:16},{default:a(()=>[o(i,null,{header:a(()=>[tt]),default:a(()=>[e("div",et,[(l(!0),d(y,null,g(w.value,s=>(l(),d("div",{key:s.ID,class:"flex flex-col p-4 rounded-lg border shadow-sm overflow-hidden transition-transform transform hover:scale-105 hover:shadow-lg hover:border-blue-300"},[e("span",{class:"truncate text-lg font-semibold mb-2",title:s.CONTEXT},n(s.CONTEXT),9,st),e("div",at,[e("span",ot,n(s.PUBLISHER),1),e("span",null,n(s.PUBLISH_DATE),1)])]))),128))])]),_:1}),o(i,{class:"border border-gray-300 rounded-lg shadow-lg"},{header:a(()=>[rt]),default:a(()=>[e("div",nt,[(l(!0),d(y,null,g(b.value,s=>(l(),d("div",{key:s.ID,class:"flex justify-between items-center p-4 hover:bg-gray-100 transition duration-200 ease-in-out"},[e("span",ct,n(s.NAME),1),e("span",lt,n(s.CREATED_TIME),1)]))),128))])]),_:1})]),_:1}),o(v,{span:8},{default:a(()=>[o(i,null,{header:a(()=>[it]),default:a(()=>[e("div",dt,[(l(!0),d(y,null,g(C.value,s=>(l(),d("div",{key:s.path,class:"mr-3 mb-2"},[o(c,{color:"#626aef",size:"large",onClick:h=>N(s)},{default:a(()=>[e("span",ut,n(s.title),1)]),_:2},1032,["onClick"])]))),128))])]),_:1}),o(i,null,{header:a(()=>[pt]),default:a(()=>[o(X,{options:k.value,style:{height:"500px",width:"100%"}},null,8,["options"])]),_:1})]),_:1})]),_:1})]),_:1})}}},mt=O(_t,[["__scopeId","data-v-32df7a69"]]);export{mt as default};
