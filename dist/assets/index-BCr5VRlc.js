import{m as T,E as y,_ as k,r as c,o as M,a as o,b as D,c as I,w as p,i as e,t as d,k as f,H as w,x as U,I as B}from"./index-0MJCgTmw.js";async function R(b){try{const t=await T({},"/fhbutton/listTree",b);return t.status!==200&&y.error(t.msg||t.Msg),t.data}catch(t){y.error(t.message)}}const L={__name:"index",setup(b){const t=c({search:"",type:"0"}),v=c([]),n=c({total:0,pageSize:10,pageNum:1});async function r(){var i;const l=new FormData;l.append("search",t.value.search),l.append("type",t.value.type),l.append("showCount",n.value.pageSize),l.append("currentPage",n.value.pageNum);const a=await R(l);v.value=(a==null?void 0:a.varList)||[],n.value.total=((i=a==null?void 0:a.page)==null?void 0:i.totalResult)||0}r();function N(l){n.value.pageNum=l,r()}function x(l){n.value.pageNum=l,r()}const m=c("0");function C(){n.value.pageNum=1,t.value.type=m.value,r()}return M(()=>{}),(l,a)=>{const i=o("el-input"),_=o("el-button"),h=o("el-card"),g=o("el-tab-pane"),z=o("el-tabs"),s=o("el-table-column"),S=o("el-table"),V=o("el-pagination"),E=o("el-main");return D(),I(E,{id:"defaultButtonManagement"},{default:p(()=>[e(h,{style:{width:"100%"},class:"mb-2"},{default:p(()=>[e(i,{modelValue:t.value.search,"onUpdate:modelValue":a[0]||(a[0]=u=>t.value.search=u),style:{width:"240px"},placeholder:"请输入按钮名称","prefix-icon":d(w),class:"mr-3",clearable:""},null,8,["modelValue","prefix-icon"]),e(_,{type:"primary",icon:d(w),onClick:r},{default:p(()=>[f(" 查询 ")]),_:1},8,["icon"]),e(_,{type:"primary",icon:d(U)},{default:p(()=>[f(" 新增 ")]),_:1},8,["icon"]),e(_,{type:"primary",icon:d(B)},{default:p(()=>[f(" 默认按钮配置 ")]),_:1},8,["icon"])]),_:1}),e(h,null,{default:p(()=>[e(z,{modelValue:m.value,"onUpdate:modelValue":a[1]||(a[1]=u=>m.value=u),onTabClick:C},{default:p(()=>[e(g,{label:"收集库",name:"0"}),e(g,{label:"整理库",name:"1"}),e(g,{label:"永久库",name:"2"})]),_:1},8,["modelValue"]),e(S,{data:v.value,border:"",style:{width:"100%"},height:"480"},{default:p(()=>[e(s,{prop:"NAME",label:"按钮名称","min-width":"180"}),e(s,{prop:"TYPE",label:"按钮分类","min-width":"180"}),e(s,{prop:"IDENTIFY",label:"按钮标识","min-width":"180"}),e(s,{prop:"BZ",label:"按钮描述","min-width":"180"}),e(s,{prop:"SHIRO_KEY",label:"权限标识","min-width":"180"}),e(s,{prop:"ORDER_NUM",label:"排序号","min-width":"180"})]),_:1},8,["data"]),e(V,{"current-page":n.value.pageNum,"onUpdate:currentPage":a[2]||(a[2]=u=>n.value.pageNum=u),"page-size":n.value.pageSize,"onUpdate:pageSize":a[3]||(a[3]=u=>n.value.pageSize=u),"page-sizes":[10,20,30,50],layout:"total, sizes, prev, pager, next, jumper",total:n.value.total,class:"mt-2",onSizeChange:N,onCurrentChange:x},null,8,["current-page","page-size","total"])]),_:1})]),_:1})}}},P=k(L,[["__scopeId","data-v-4e9069c1"]]);export{P as default};
